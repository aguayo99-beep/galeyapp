(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{11:function(e,t,a){e.exports=a(21)},16:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var l=a(1),r=a.n(l),n=a(10),c=a.n(n);a(16);var i=()=>r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"FireGram"),r.a.createElement("h2",null,"Your Pictures"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit.")),s=a(4);a(23),a(17);s.initializeApp({apiKey:"AIzaSyAS3R6HYzaw18UzXUj7LTqw3zbqczzkfqg",authDomain:"galeriaaguayo.firebaseapp.com",projectId:"galeriaaguayo",storageBucket:"galeriaaguayo.appspot.com",messagingSenderId:"805697189241",appId:"1:805697189241:web:df302509c7b0b27bb6aba8",measurementId:"G-9EDM2VQTEW"});const o=s.storage(),m=s.firestore(),u=s.firestore.FieldValue.serverTimestamp;var d=e=>{const[t,a]=Object(l.useState)(0),[r,n]=Object(l.useState)(null),[c,i]=Object(l.useState)(null);return Object(l.useEffect)(()=>{const t=o.ref(e.name),l=m.collection("images");t.put(e).on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;a(t)},e=>{n(e)},async()=>{const e=await t.getDownloadURL(),a=u();await l.add({url:e,createdAt:a}),i(e)})},[e]),{progress:t,url:c,error:r}},p=a(2);var g=e=>{let{file:t,setFile:a}=e;const{progress:n,url:c}=d(t);return Object(l.useEffect)(()=>{c&&a(null)},[c,a]),r.a.createElement(p.a.div,{className:"progress-bar",initial:{width:0},animate:{width:n+"%"}})};var E=()=>{const[e,t]=Object(l.useState)(null),[a,n]=Object(l.useState)(null),c=["image/png","image/jpeg"];return r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("input",{type:"file",onChange:e=>{let a=e.target.files[0];a&&c.includes(a.type)?(console.log(a),t(a),n("")):(t(null),n("Please select an image file (png or jpg)"))}}),r.a.createElement("span",null,"+")),r.a.createElement("div",{className:"output"},a&&r.a.createElement("div",{className:"error"},a),e&&r.a.createElement("div",null,e.name),e&&r.a.createElement(g,{file:e,setFile:t})))};var f=e=>{const[t,a]=Object(l.useState)([]);return Object(l.useEffect)(()=>{const t=m.collection(e).orderBy("createdAt","desc").onSnapshot(e=>{let t=[];e.forEach(e=>{t.push({...e.data(),id:e.id})}),a(t)});return()=>t()},[e]),{docs:t}};var b=e=>{let{setSelectedImg:t}=e;const{docs:a}=f("images");return r.a.createElement("div",{className:"img-grid"},a&&a.map(e=>r.a.createElement(p.a.div,{className:"img-wrap",key:e.id,layout:!0,whileHover:{opacity:1},s:!0,onClick:()=>t(e.url)},r.a.createElement(p.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))))};var y=e=>{let{setSelectedImg:t,selectedImg:a}=e;return r.a.createElement(p.a.div,{className:"backdrop",onClick:e=>{e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1}},r.a.createElement(p.a.img,{src:a,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}}))};var v=function(){const[e,t]=Object(l.useState)(null);return r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(E,null),r.a.createElement(b,{setSelectedImg:t}),e&&r.a.createElement(y,{selectedImg:e,setSelectedImg:t}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.1d05b811.chunk.js.map